{{ define "main" }}

  <main class="archive">

    <h1>All posts</h1>

    {{ range ((where .Site.RegularPages "Type" "post").GroupByDate "2006") }}
    <div class="archive-year"><h2>{{ .Key }}</h1></div>
    
    <ul class="archive-list">
      {{ range (where .Pages "Type" "post") }}
      <li>
        <span class="archive-date">{{ .PublishDate.Format "02 Jan" }}</span>
        <a class ="archive-post" href="{{ .RelPermalink}}">{{ .Title }}</a>
        <span class="reading-time">[{{ .ReadingTime }} minute read]</span>
      </li>
      {{ end }}
      
    </ul>
    {{ end }}
    
  </main>

{{ end }}